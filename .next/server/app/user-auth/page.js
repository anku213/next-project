(()=>{var e={};e.id=699,e.ids=[699],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},382:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=a(482),s=a(9108),l=a(2563),i=a.n(l),n=a(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let c=["",{children:["user-auth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7961)),"D:\\next-app\\src\\app\\user-auth\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1965)),"D:\\next-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\next-app\\src\\app\\user-auth\\page.js"],u="/user-auth/page",p={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/user-auth/page",pathname:"/user-auth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7222:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,6840,23)),Promise.resolve().then(a.t.bind(a,8771,23)),Promise.resolve().then(a.t.bind(a,3225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,3982,23))},1801:()=>{},730:(e,t,a)=>{Promise.resolve().then(a.bind(a,6549))},867:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(5344),s=a(6506),l=a(8428),i=a(3729);let n=e=>{let t=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")),a=localStorage.getItem("cart")&&JSON.parse(localStorage.getItem("cart")),[n,o]=(0,i.useState)(t||void 0),[c,d]=(0,i.useState)(a?.length),[u,p]=(0,i.useState)(a),h=(0,l.useRouter)();return console.log(t),(0,i.useEffect)(()=>{e.cartData&&(console.log(e),c?u[0].resto_id!=e.cartData.resto_id?(localStorage.removeItem("cart"),d(1),p([e.cartData]),localStorage.setItem("cart",JSON.stringify([e.cartData]))):(u.push(JSON.parse(JSON.stringify(e.cartData))),p(u),d(c+1),localStorage.setItem("cart",JSON.stringify(u))):(d(1),p([e.cartData]),localStorage.setItem("cart",JSON.stringify([e.cartData]))))},[e.cartData]),(0,i.useEffect)(()=>{if(e.removeCartData){let t=u.filter(t=>t._id!=e.removeCartData);p(t),d(c-1),localStorage.setItem("cart",JSON.stringify(t)),0==t.length&&localStorage.removeItem("cart")}},[e.removeCartData]),(0,i.useEffect)(()=>{e.removeCartData&&(p([]),d(0),localStorage.removeItem("cart"))},[e.removeCartData]),(0,r.jsxs)("div",{className:"header-wrapper",children:[r.jsx("div",{className:"logo",children:r.jsx("img",{style:{width:100},src:"https://s.tmimgcdn.com/scr/1200x627/242400/food-delivery-custom-design-logo-template_242462-original.png"})}),(0,r.jsxs)("ul",{children:[r.jsx("li",{children:r.jsx(s.default,{href:"/",children:"Home"})}),n?(0,r.jsxs)(r.Fragment,{children:[r.jsx("li",{children:r.jsx(s.default,{href:"/myprofile",children:n?.name})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>{localStorage.removeItem("user"),h.push("/user-auth")},children:"Logout"})})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("li",{children:r.jsx(s.default,{href:"/",children:"Login"})}),r.jsx("li",{children:r.jsx(s.default,{href:"/user-auth",children:"SignUp"})})]}),r.jsx("li",{children:(0,r.jsxs)(s.default,{href:c?"/cart":"#",children:["Cart(",c||0,")"]})}),r.jsx("li",{children:r.jsx(s.default,{href:"/",children:"Add Restaurant"})}),r.jsx("li",{children:r.jsx(s.default,{href:"/deliverypartner",children:"Delivery Partner"})})]})]})}},7331:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(5344);let s=()=>r.jsx("div",{className:"footer-wrapper",children:r.jsx("p",{children:"All rights reserved by Resto app"})})},6549:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(5344),s=a(3729),l=a(867),i=a(7331),n=a(8428);let o=e=>{let[t,a]=(0,s.useState)(""),[l,i]=(0,s.useState)(""),o=(0,n.useRouter)();console.log("login",e);let c=async()=>{let a=await fetch("http://localhost:3000/api/user/login",{method:"post",body:JSON.stringify({email:t,password:l})});if((a=await a.json()).success){let{result:t}=a;delete t.password,localStorage.setItem("user",JSON.stringify(t)),e?.redirect?.order?(console.log("login if"),o.push("/order")):(console.log("login else"),o.push("/"))}else alert("failed to login. Please try again with valid email and password")};return(0,r.jsxs)("div",{children:[r.jsx("div",{className:"input-wrapper",children:r.jsx("input",{type:"text",placeholder:"enter email",value:t,onChange:e=>a(e.target.value),className:"input-field"})}),r.jsx("div",{className:"input-wrapper",children:r.jsx("input",{type:"password",placeholder:"enter password",value:l,onChange:e=>i(e.target.value),className:"input-field"})}),r.jsx("div",{className:"input-wrapper",children:r.jsx("button",{onClick:c,className:"button",children:"Login"})})]})},c=e=>{let[t,a]=(0,s.useState)(""),[l,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),[x,v]=(0,s.useState)(""),f=(0,n.useRouter)(),j=async()=>{console.log(t,l,o,d,p,m,x);let a=await fetch("http://localhost:3000/api/user",{method:"post",body:JSON.stringify({name:t,email:l,password:o,city:p,address:m,mobile:x})});if((a=await a.json()).success){let{result:t}=a;delete t.password,localStorage.setItem("user",JSON.stringify(t)),e?.redirect?.order?f.push("/order"):f.push("/")}else alert("failed")};return(0,r.jsxs)("div",{children:[r.jsx("div",{className:"input-wrapper",children:r.jsx("input",{type:"text",className:"input-field",value:t,onChange:e=>a(e.target.value),placeholder:"Enter name"})}),r.jsx("div",{className:"input-wrapper",children:r.jsx("input",{type:"text",className:"input-field",value:l,onChange:e=>i(e.target.value),placeholder:"Enter email"})}),r.jsx("div",{className:"input-wrapper",children:r.jsx("input",{type:"text",className:"input-field",value:o,onChange:e=>c(e.target.value),placeholder:"Enter password"})}),r.jsx("div",{className:"input-wrapper",children:r.jsx("input",{type:"text",className:"input-field",value:d,onChange:e=>u(e.target.value),placeholder:"Confirm password"})}),r.jsx("div",{className:"input-wrapper",children:r.jsx("input",{type:"text",className:"input-field",value:p,onChange:e=>h(e.target.value),placeholder:"Enter city"})}),r.jsx("div",{className:"input-wrapper",children:r.jsx("input",{type:"text",className:"input-field",value:m,onChange:e=>g(e.target.value),placeholder:"Enter address"})}),r.jsx("div",{className:"input-wrapper",children:r.jsx("input",{type:"text",className:"input-field",value:x,onChange:e=>v(e.target.value),placeholder:"Enter mobile"})}),r.jsx("div",{className:"input-wrapper",children:r.jsx("button",{onClick:j,className:"button",children:"Signup"})})]})},d=e=>{let[t,a]=(0,s.useState)(!0);return console.log("order flag",e),(0,r.jsxs)("div",{children:[r.jsx(l.Z,{}),(0,r.jsxs)("div",{className:"container",children:[r.jsx("h1",{children:t?"User Login":"User Signup"}),t?r.jsx(o,{redirect:e.searchParams}):r.jsx(c,{redirect:e.searchParams}),r.jsx("button",{className:"button-link",onClick:()=>a(!t),children:t?"Do not have account? Signup":"Already have account ? login"})]}),r.jsx(i.Z,{})]})}},1965:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n,metadata:()=>i});var r=a(5036),s=a(1457),l=a.n(s);a(5023);let i={title:"Create Next App",description:"Generated by create next app"};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:l().className,children:e})})}},7961:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>s,default:()=>i});let r=(0,a(6843).createProxy)(String.raw`D:\next-app\src\app\user-auth\page.js`),{__esModule:s,$$typeof:l}=r,i=r.default},3881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(337);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,43,404,506],()=>a(382));module.exports=r})();