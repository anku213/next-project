(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4286:function(e,t,a){Promise.resolve().then(a.bind(a,3504))},7762:function(e,t,a){"use strict";var r=a(3827),s=a(8792),l=a(7907),c=a(4090);t.Z=e=>{let t=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")),a=localStorage.getItem("cart")&&JSON.parse(localStorage.getItem("cart")),[i,n]=(0,c.useState)(t||void 0),[o,d]=(0,c.useState)(null==a?void 0:a.length),[u,h]=(0,c.useState)(a),m=(0,l.useRouter)();return console.log(t),(0,c.useEffect)(()=>{e.cartData&&(console.log(e),o?u[0].resto_id!=e.cartData.resto_id?(localStorage.removeItem("cart"),d(1),h([e.cartData]),localStorage.setItem("cart",JSON.stringify([e.cartData]))):(u.push(JSON.parse(JSON.stringify(e.cartData))),h(u),d(o+1),localStorage.setItem("cart",JSON.stringify(u))):(d(1),h([e.cartData]),localStorage.setItem("cart",JSON.stringify([e.cartData]))))},[e.cartData]),(0,c.useEffect)(()=>{if(e.removeCartData){let t=u.filter(t=>t._id!=e.removeCartData);h(t),d(o-1),localStorage.setItem("cart",JSON.stringify(t)),0==t.length&&localStorage.removeItem("cart")}},[e.removeCartData]),(0,c.useEffect)(()=>{e.removeCartData&&(h([]),d(0),localStorage.removeItem("cart"))},[e.removeCartData]),(0,r.jsxs)("div",{className:"header-wrapper",children:[(0,r.jsx)("div",{className:"logo",children:(0,r.jsx)("img",{style:{width:100},src:"https://s.tmimgcdn.com/scr/1200x627/242400/food-delivery-custom-design-logo-template_242462-original.png"})}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/",children:"Home"})}),i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/myprofile",children:null==i?void 0:i.name})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("user"),m.push("/user-auth")},children:"Logout"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/",children:"Login"})}),(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/user-auth",children:"SignUp"})})]}),(0,r.jsx)("li",{children:(0,r.jsxs)(s.default,{href:o?"/cart":"#",children:["Cart(",o||0,")"]})}),(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/",children:"Add Restaurant"})}),(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/deliverypartner",children:"Delivery Partner"})})]})]})}},5519:function(e,t,a){"use strict";var r=a(3827);t.Z=()=>(0,r.jsx)("div",{className:"footer-wrapper",children:(0,r.jsx)("p",{children:"All rights reserved by Resto app"})})},3504:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var r=a(3827);a(703);var s=a(7762),l=a(5519),c=a(4090),i=a(7907);function n(){let[e,t]=(0,c.useState)([]),[a,n]=(0,c.useState)([]),[o,d]=(0,c.useState)(""),[u,h]=(0,c.useState)(!1),m=(0,i.useRouter)();(0,c.useEffect)(()=>{p(),f()},[]);let p=async()=>{let e=await fetch("http://localhost:3000/api/customer/locations");(e=await e.json()).success&&t(e.result)},f=async e=>{let t="http://localhost:3000/api/customer";(null==e?void 0:e.location)?t=t+"?location="+e.location:(null==e?void 0:e.restaurant)&&(t=t+"?restaurant="+e.restaurant);let a=await fetch(t);(a=await a.json()).success&&n(a.result)},x=e=>{d(e),h(!1),f({location:e})};return console.log(a),(0,r.jsxs)("main",{children:[(0,r.jsx)(s.Z,{}),(0,r.jsxs)("div",{className:"main-page-banner",children:[(0,r.jsx)("h1",{children:"Food Delivery App"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)("input",{type:"text",value:o,onClick:()=>h(!0),className:"select-input",placeholder:"Select Place"}),(0,r.jsx)("ul",{className:"location-list",children:u&&e.map(e=>(0,r.jsx)("li",{onClick:()=>x(e),children:e}))}),(0,r.jsx)("input",{type:"text",className:"search-input",onChange:e=>f({restaurant:e.target.value}),placeholder:"Enter food or restaurant name"})]})]}),(0,r.jsx)("div",{className:"restaurant-list-container",children:a.map(e=>(0,r.jsxs)("div",{onClick:()=>m.push("explore/"+e.name+"?id="+e._id),className:"restaurant-wrapper",children:[(0,r.jsxs)("div",{className:"heading-wrapper",children:[(0,r.jsx)("h3",{children:e.name}),(0,r.jsxs)("h5",{children:["Contact:",e.contact]})]}),(0,r.jsxs)("div",{className:"address-wrapper",children:[(0,r.jsxs)("div",{children:[e.city,","]}),(0,r.jsxs)("div",{className:"address",children:[" ",e.address,", Email: ",e.email]})]})]}))}),(0,r.jsx)(l.Z,{})]})}}},function(e){e.O(0,[901,703,971,69,744],function(){return e(e.s=4286)}),_N_E=e.O()}]);