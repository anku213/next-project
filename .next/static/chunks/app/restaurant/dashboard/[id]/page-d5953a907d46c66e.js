(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[576],{5966:function(e,t,a){Promise.resolve().then(a.bind(a,9241))},7907:function(e,t,a){"use strict";var s=a(5313);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},9241:function(e,t,a){"use strict";a.r(t);var s=a(3827),n=a(7907),r=a(4090);t.default=e=>{console.log(e.params.id);let[t,a]=(0,r.useState)(""),[i,l]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[o,p]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),m=(0,n.useRouter)();(0,r.useEffect)(()=>{f()},[]);let f=async()=>{let t=await fetch("http://localhost:3000/api/restaurant/foods/edit/"+e.params.id);(t=await t.json()).success&&(console.log(t.result),a(t.result.name),l(t.result.price),c(t.result.img_path),p(t.result.description))},v=async()=>{if(console.log(t,i,u,o),!t||!u||!i||!o)return h(!0),!1;h(!1);let a=await fetch("http://localhost:3000/api/restaurant/foods/edit/"+e.params.id,{method:"PUT",body:JSON.stringify({name:t,price:i,img_path:u,description:o})});(a=await a.json()).success?m.push("../dashboard"):alert("data is not updated please try again")};return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{children:" Update Food Item"}),(0,s.jsxs)("div",{className:"input-wrapper",children:[(0,s.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter food name",value:t,onChange:e=>a(e.target.value)}),d&&!t&&(0,s.jsx)("span",{className:"input-error",children:"Please enter valid name"})]}),(0,s.jsxs)("div",{className:"input-wrapper",children:[(0,s.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter price",value:i,onChange:e=>l(e.target.value)}),d&&!i&&(0,s.jsx)("span",{className:"input-error",children:"Please enter valid price"})]}),(0,s.jsxs)("div",{className:"input-wrapper",children:[(0,s.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter image path",value:u,onChange:e=>c(e.target.value)}),d&&!u&&(0,s.jsx)("span",{className:"input-error",children:"Please enter valid path"})]}),(0,s.jsxs)("div",{className:"input-wrapper",children:[(0,s.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter description",value:o,onChange:e=>p(e.target.value)}),d&&!o&&(0,s.jsx)("span",{className:"input-error",children:"Please enter valid description"})]}),(0,s.jsx)("div",{className:"input-wrapper",children:(0,s.jsx)("button",{className:"button",onClick:v,children:"Update Food Item"})}),(0,s.jsx)("div",{className:"input-wrapper",children:(0,s.jsx)("button",{className:"button",onClick:()=>m.push("../dashboard"),children:"Back to Food Item list"})})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=5966)}),_N_E=e.O()}]);