(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{702:function(e,t,s){Promise.resolve().then(s.bind(s,5602))},8338:function(e,t,s){"use strict";var a=s(3827),r=s(8792),n=s(7907),l=s(4090);t.Z=()=>{let[e,t]=(0,l.useState)(),s=(0,n.usePathname)(),i=(0,n.useRouter)();return(0,l.useEffect)(()=>{let e=localStorage.getItem("restaurantUser");e||"/restaurant/dashboard"!=s?e&&"/restaurant"==s&&i.push("/restaurant/dashboard"):i.push("/restaurant"),e&&t(JSON.parse(e))},[]),(0,a.jsxs)("div",{className:"header-wrapper",children:[(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)("img",{style:{width:100},src:"https://s.tmimgcdn.com/scr/1200x627/242400/food-delivery-custom-design-logo-template_242462-original.png"})}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/",children:"Home"})}),(0,a.jsx)("li",{children:e&&e.name?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{href:"/",children:"Profile"}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("restaurantUser"),i.push("/restaurant")},children:"Logout"})]}):(0,a.jsx)(r.default,{href:"/",children:"Login/SignUp"})})]})]})}},5602:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(3827),r=s(8338);s(1981);var n=s(4090),l=e=>{let[t,s]=(0,n.useState)(""),[r,l]=(0,n.useState)(""),[i,d]=(0,n.useState)(""),[c,o]=(0,n.useState)(""),[u,h]=(0,n.useState)(!1),p=async()=>{let s;if(console.log(t,r,i,c),!t||!i||!r||!c)return h(!0),!1;h(!1);let a=JSON.parse(localStorage.getItem("restaurantUser"));a&&(s=a._id);let n=await fetch("http://localhost:3000/api/restaurant/foods",{method:"POST",body:JSON.stringify({name:t,price:r,img_path:i,description:c,resto_id:s})});(n=await n.json()).success?(alert("Food item added"),e.setAddItem(!1)):alert("Food item not added")};return(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h1",{children:"Add New Food Item"}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter food name",value:t,onChange:e=>s(e.target.value)}),u&&!t&&(0,a.jsx)("span",{className:"input-error",children:"Please enter valid name"})]}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter price",value:r,onChange:e=>l(e.target.value)}),u&&!r&&(0,a.jsx)("span",{className:"input-error",children:"Please enter valid price"})]}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter image path",value:i,onChange:e=>d(e.target.value)}),u&&!i&&(0,a.jsx)("span",{className:"input-error",children:"Please enter valid path"})]}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter description",value:c,onChange:e=>o(e.target.value)}),u&&!c&&(0,a.jsx)("span",{className:"input-error",children:"Please enter valid description"})]}),(0,a.jsx)("div",{className:"input-wrapper",children:(0,a.jsx)("button",{className:"button",onClick:p,children:"Add Food Item"})})]})},i=s(7907),d=()=>{let[e,t]=(0,n.useState)(),s=(0,i.useRouter)();(0,n.useEffect)(()=>{r()},[]);let r=async()=>{let e=JSON.parse(localStorage.getItem("restaurantUser"))._id,s=await fetch("http://localhost:3000/api/restaurant/foods/"+e);(s=await s.json()).success?t(s.result):alert("food item list not loading")},l=async e=>{let t=await fetch("http://localhost:3000/api/restaurant/foods/"+e,{method:"delete"});(t=await t.json()).success?r():alert("food item not deleted")};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Food Items"}),(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:"S.N"}),(0,a.jsx)("td",{children:"Name"}),(0,a.jsx)("td",{children:"Price"}),(0,a.jsx)("td",{children:"Description"}),(0,a.jsx)("td",{children:"Image"}),(0,a.jsx)("td",{children:"Operations"})]})}),(0,a.jsx)("tbody",{children:e&&e.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t+1}),(0,a.jsx)("td",{children:e.name}),(0,a.jsx)("td",{children:e.price}),(0,a.jsx)("td",{children:e.description}),(0,a.jsxs)("td",{children:[(0,a.jsx)("img",{src:e.img_path})," "]}),(0,a.jsxs)("td",{children:[(0,a.jsx)("button",{onClick:()=>l(e._id),children:"Delete"}),(0,a.jsx)("button",{onClick:()=>s.push("dashboard/"+e._id),children:"Edit"})]})]},t))})]})]})},c=()=>{let[e,t]=(0,n.useState)(!1);return(0,a.jsxs)("div",{children:[(0,a.jsx)(r.Z,{}),(0,a.jsx)("button",{onClick:()=>t(!0),children:"Add Food "}),(0,a.jsx)("button",{onClick:()=>t(!1),children:"Dashboard"}),e?(0,a.jsx)(l,{setAddItem:t}):(0,a.jsx)(d,{})]})}},1981:function(){}},function(e){e.O(0,[901,971,69,744],function(){return e(e.s=702)}),_N_E=e.O()}]);