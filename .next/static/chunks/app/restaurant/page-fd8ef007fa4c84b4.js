(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244],{7522:function(e,s,a){Promise.resolve().then(a.bind(a,3964))},5519:function(e,s,a){"use strict";var t=a(3827);s.Z=()=>(0,t.jsx)("div",{className:"footer-wrapper",children:(0,t.jsx)("p",{children:"All rights reserved by Resto app"})})},8338:function(e,s,a){"use strict";var t=a(3827),r=a(8792),n=a(7907),l=a(4090);s.Z=()=>{let[e,s]=(0,l.useState)(),a=(0,n.usePathname)(),i=(0,n.useRouter)();return(0,l.useEffect)(()=>{let e=localStorage.getItem("restaurantUser");e||"/restaurant/dashboard"!=a?e&&"/restaurant"==a&&i.push("/restaurant/dashboard"):i.push("/restaurant"),e&&s(JSON.parse(e))},[]),(0,t.jsxs)("div",{className:"header-wrapper",children:[(0,t.jsx)("div",{className:"logo",children:(0,t.jsx)("img",{style:{width:100},src:"https://s.tmimgcdn.com/scr/1200x627/242400/food-delivery-custom-design-logo-template_242462-original.png"})}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/",children:"Home"})}),(0,t.jsx)("li",{children:e&&e.name?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.default,{href:"/",children:"Profile"}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("restaurantUser"),i.push("/restaurant")},children:"Logout"})]}):(0,t.jsx)(r.default,{href:"/",children:"Login/SignUp"})})]})]})}},3964:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return d}});var t=a(3827),r=a(4090),n=a(7907),l=()=>{let[e,s]=(0,r.useState)(),[a,l]=(0,r.useState)(),[i,c]=(0,r.useState)(!1),u=(0,n.useRouter)(),d=async()=>{if(!e||!a)return c(!0),!1;c(!1);let s=await fetch("http://localhost:3000/api/restaurant",{method:"POST",body:JSON.stringify({email:e,password:a,login:!0})});if((s=await s.json()).success){let{result:e}=s;delete e.password,localStorage.setItem("restaurantUser",JSON.stringify(e)),u.push("/restaurant/dashboard")}else alert("Login failed")};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"Login"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("input",{className:"input-field",type:"text",placeholder:"Enter email",value:e,onChange:e=>s(e.target.value)}),i&&!e&&(0,t.jsx)("span",{className:"input-error",children:"Please enter valid email "})]}),(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("input",{className:"input-field",type:"password",placeholder:"Enter password",value:a,onChange:e=>l(e.target.value)}),i&&!a&&(0,t.jsx)("span",{className:"input-error",children:"Please enter valid password "})]}),(0,t.jsx)("div",{className:"input-wrapper",children:(0,t.jsx)("button",{onClick:d,className:"button",children:"Login"})})]})]})},i=()=>{let[e,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[o,p]=(0,r.useState)(""),[h,m]=(0,r.useState)(""),[x,j]=(0,r.useState)(""),g=(0,n.useRouter)(),[v,f]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),S=async()=>{if(a!==i)return w(!0),!1;if(w(!1),!e||!a||!i||!u||!o||!h||!x)return f(!0),!1;f(!1),console.log(e,a,i,u,o,h,x);let s=await fetch("http://localhost:3000/api/restaurant",{method:"POST",body:JSON.stringify({email:e,password:a,name:u,city:o,address:h,contact:x})});if(console.log(s=await s.json()),s.success){let{result:e}=s;delete e.password,localStorage.setItem("restaurantUser",JSON.stringify(e)),g.push("/restaurant/dashboard")}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:" Signup "}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("input",{type:"text",placeholder:"Enter email id",className:"input-field",value:e,onChange:e=>s(e.target.value)}),v&&!e&&(0,t.jsx)("span",{className:"input-error",children:"Please enter valid email "})]}),(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("input",{type:"password",placeholder:"Enter password",className:"input-field",value:a,onChange:e=>l(e.target.value)}),N&&(0,t.jsx)("span",{className:"input-error",children:"Password and Confirm password not match "}),v&&!a&&(0,t.jsx)("span",{className:"input-error",children:"Please enter valid password "})]}),(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("input",{type:"password",placeholder:"Confirm password",className:"input-field",value:i,onChange:e=>c(e.target.value)}),N&&(0,t.jsx)("span",{className:"input-error",children:"Password and Confirm password not match "}),v&&!i&&(0,t.jsx)("span",{className:"input-error",children:"Please enter valid confirm password "})]}),(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("input",{type:"text",placeholder:"Enter restaurant name",className:"input-field",value:u,onChange:e=>d(e.target.value)}),v&&!u&&(0,t.jsx)("span",{className:"input-error",children:"Please enter name email "})]}),(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("input",{type:"text",placeholder:"Enter city ",className:"input-field",value:o,onChange:e=>p(e.target.value)}),v&&!o&&(0,t.jsx)("span",{className:"input-error",children:"Please enter valid city  "})]}),(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("input",{type:"text",placeholder:"Enter full address",className:"input-field",value:h,onChange:e=>m(e.target.value)}),v&&!h&&(0,t.jsx)("span",{className:"input-error",children:"Please enter valid address  "})]}),(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("input",{type:"text",placeholder:"Enter contact No",className:"input-field",value:x,onChange:e=>j(e.target.value)}),v&&!x&&(0,t.jsx)("span",{className:"input-error",children:"Please enter valid contact "})]}),(0,t.jsx)("div",{className:"input-wrapper",children:(0,t.jsx)("button",{className:"button",onClick:S,children:"Sign up"})})]})]})},c=a(8338),u=a(5519);a(1981);var d=()=>{let[e,s]=(0,r.useState)(!0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(c.Z,{}),(0,t.jsx)("h1",{children:"Restaurant Login/Signup Page"}),e?(0,t.jsx)(l,{}):(0,t.jsx)(i,{}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{className:"button-link",onClick:()=>s(!e),children:e?"Do not have account? SignUp":"Already have Account? Login"})})]}),(0,t.jsx)(u.Z,{})]})}},1981:function(){}},function(e){e.O(0,[901,971,69,744],function(){return e(e.s=7522)}),_N_E=e.O()}]);