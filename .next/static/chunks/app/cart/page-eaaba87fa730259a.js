(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{2023:function(e,r,t){Promise.resolve().then(t.bind(t,7585))},7762:function(e,r,t){"use strict";var s=t(3827),a=t(8792),l=t(7907),i=t(4090);r.Z=e=>{let r=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")),t=localStorage.getItem("cart")&&JSON.parse(localStorage.getItem("cart")),[c,n]=(0,i.useState)(r||void 0),[o,d]=(0,i.useState)(null==t?void 0:t.length),[h,u]=(0,i.useState)(t),m=(0,l.useRouter)();return console.log(r),(0,i.useEffect)(()=>{e.cartData&&(console.log(e),o?h[0].resto_id!=e.cartData.resto_id?(localStorage.removeItem("cart"),d(1),u([e.cartData]),localStorage.setItem("cart",JSON.stringify([e.cartData]))):(h.push(JSON.parse(JSON.stringify(e.cartData))),u(h),d(o+1),localStorage.setItem("cart",JSON.stringify(h))):(d(1),u([e.cartData]),localStorage.setItem("cart",JSON.stringify([e.cartData]))))},[e.cartData]),(0,i.useEffect)(()=>{if(e.removeCartData){let r=h.filter(r=>r._id!=e.removeCartData);u(r),d(o-1),localStorage.setItem("cart",JSON.stringify(r)),0==r.length&&localStorage.removeItem("cart")}},[e.removeCartData]),(0,i.useEffect)(()=>{e.removeCartData&&(u([]),d(0),localStorage.removeItem("cart"))},[e.removeCartData]),(0,s.jsxs)("div",{className:"header-wrapper",children:[(0,s.jsx)("div",{className:"logo",children:(0,s.jsx)("img",{style:{width:100},src:"https://s.tmimgcdn.com/scr/1200x627/242400/food-delivery-custom-design-logo-template_242462-original.png"})}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/",children:"Home"})}),c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/myprofile",children:null==c?void 0:c.name})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("user"),m.push("/user-auth")},children:"Logout"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/",children:"Login"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/user-auth",children:"SignUp"})})]}),(0,s.jsx)("li",{children:(0,s.jsxs)(a.default,{href:o?"/cart":"#",children:["Cart(",o||0,")"]})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/",children:"Add Restaurant"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/deliverypartner",children:"Delivery Partner"})})]})]})}},5519:function(e,r,t){"use strict";var s=t(3827);r.Z=()=>(0,s.jsx)("div",{className:"footer-wrapper",children:(0,s.jsx)("p",{children:"All rights reserved by Resto app"})})},7585:function(e,r,t){"use strict";t.r(r);var s=t(3827),a=t(4090),l=t(7762),i=t(5519),c=t(7283),n=t(7907);r.default=()=>{let[e,r]=(0,a.useState)(JSON.parse(localStorage.getItem("cart"))),[t]=(0,a.useState)(()=>1==e.length?e[0].price:e.reduce((e,r)=>e.price+r.price)),o=(0,n.useRouter)();return console.log(t),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.Z,{}),(0,s.jsx)("div",{className:"food-list-wrapper",children:e.length>0?e.map(e=>(0,s.jsxs)("div",{className:"list-item",children:[(0,s.jsx)("div",{className:"list-item-block-1",children:(0,s.jsx)("img",{style:{width:100},src:e.img_path})}),(0,s.jsxs)("div",{className:"list-item-block-2",children:[(0,s.jsx)("div",{children:e.name}),(0,s.jsx)("div",{className:"description",children:e.description}),(0,s.jsx)("button",{onClick:()=>removeFromCart(e._id),children:"Remove From Cart"})]}),(0,s.jsxs)("div",{className:"list-item-block-3",children:["Price: ",e.price]})]})):(0,s.jsx)("h1",{children:"No Food Items for this Restaurant"})}),(0,s.jsxs)("div",{className:"total-wrapper",children:[(0,s.jsxs)("div",{className:"block-1",children:[(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("span",{children:"Food Charges : "}),(0,s.jsx)("span",{children:t})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("span",{children:"Tax : "}),(0,s.jsx)("span",{children:t*c.A/100})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("span",{children:"Delivery Charges  : "}),(0,s.jsx)("span",{children:c.H})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("span",{children:"Total Amount : "}),(0,s.jsx)("span",{children:t+c.H+t*c.A/100})]})]}),(0,s.jsx)("div",{className:"block-2",children:(0,s.jsx)("button",{onClick:()=>{JSON.parse(localStorage.getItem("user"))?o.push("/order"):o.push("/user-auth?order=true")},children:"Order Now"})})]}),(0,s.jsx)(i.Z,{})]})}},7283:function(e,r,t){"use strict";t.d(r,{A:function(){return s},H:function(){return a}});let s=10,a=100}},function(e){e.O(0,[901,971,69,744],function(){return e(e.s=2023)}),_N_E=e.O()}]);