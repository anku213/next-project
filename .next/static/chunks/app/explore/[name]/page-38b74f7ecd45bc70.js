(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{9847:function(e,t,a){Promise.resolve().then(a.bind(a,6272))},7762:function(e,t,a){"use strict";var r=a(3827),s=a(8792),l=a(7907),i=a(4090);t.Z=e=>{let t=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")),a=localStorage.getItem("cart")&&JSON.parse(localStorage.getItem("cart")),[c,n]=(0,i.useState)(t||void 0),[o,d]=(0,i.useState)(null==a?void 0:a.length),[h,u]=(0,i.useState)(a),m=(0,l.useRouter)();return console.log(t),(0,i.useEffect)(()=>{e.cartData&&(console.log(e),o?h[0].resto_id!=e.cartData.resto_id?(localStorage.removeItem("cart"),d(1),u([e.cartData]),localStorage.setItem("cart",JSON.stringify([e.cartData]))):(h.push(JSON.parse(JSON.stringify(e.cartData))),u(h),d(o+1),localStorage.setItem("cart",JSON.stringify(h))):(d(1),u([e.cartData]),localStorage.setItem("cart",JSON.stringify([e.cartData]))))},[e.cartData]),(0,i.useEffect)(()=>{if(e.removeCartData){let t=h.filter(t=>t._id!=e.removeCartData);u(t),d(o-1),localStorage.setItem("cart",JSON.stringify(t)),0==t.length&&localStorage.removeItem("cart")}},[e.removeCartData]),(0,i.useEffect)(()=>{e.removeCartData&&(u([]),d(0),localStorage.removeItem("cart"))},[e.removeCartData]),(0,r.jsxs)("div",{className:"header-wrapper",children:[(0,r.jsx)("div",{className:"logo",children:(0,r.jsx)("img",{style:{width:100},src:"https://s.tmimgcdn.com/scr/1200x627/242400/food-delivery-custom-design-logo-template_242462-original.png"})}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/",children:"Home"})}),c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/myprofile",children:null==c?void 0:c.name})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("user"),m.push("/user-auth")},children:"Logout"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/",children:"Login"})}),(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/user-auth",children:"SignUp"})})]}),(0,r.jsx)("li",{children:(0,r.jsxs)(s.default,{href:o?"/cart":"#",children:["Cart(",o||0,")"]})}),(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/",children:"Add Restaurant"})}),(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{href:"/deliverypartner",children:"Delivery Partner"})})]})]})}},6272:function(e,t,a){"use strict";a.r(t);var r=a(3827),s=a(7762),l=a(4090);t.default=e=>{let t=e.params.name,[a,i]=(0,l.useState)(),[c,n]=(0,l.useState)([]),[o,d]=(0,l.useState)(),[h,u]=(0,l.useState)(JSON.parse(localStorage.getItem("cart"))),[m,f]=(0,l.useState)(h?()=>h.map(e=>e._id):[]),[g,j]=(0,l.useState)();console.log(m),(0,l.useEffect)(()=>{x()},[]);let x=async()=>{let t=e.searchParams.id,a=await fetch("http://localhost:3000/api/customer/"+t);(a=await a.json()).success&&(i(a.details),n(a.foodItems))},v=e=>{m.push(e._id),f(m),d(e),j()},p=e=>{j(e);var t=m.filter(t=>t!=e);d(),f(t)};return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Z,{cartData:o,removeCartData:g}),(0,r.jsx)("div",{className:"restaurant-page-banner",children:(0,r.jsx)("h1",{children:decodeURI(t)})}),(0,r.jsxs)("div",{className:"details-wrapper",children:[(0,r.jsxs)("h4",{children:["Contact : ",null==a?void 0:a.contact]}),(0,r.jsxs)("h4",{children:["City:",null==a?void 0:a.city]}),(0,r.jsxs)("h4",{children:["Address:",null==a?void 0:a.address]}),(0,r.jsxs)("h4",{children:["Email:",null==a?void 0:a.email]})]}),(0,r.jsx)("div",{className:"food-list-wrapper",children:c.length>0?c.map(e=>(0,r.jsxs)("div",{className:"list-item",children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{style:{width:100},src:e.img_path})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:e.name}),(0,r.jsx)("div",{children:e.price}),(0,r.jsx)("div",{className:"description",children:e.description}),m.includes(e._id)?(0,r.jsx)("button",{onClick:()=>p(e._id),children:"Remove From Cart"}):(0,r.jsx)("button",{onClick:()=>v(e),children:"Add to Cart"})]})]})):(0,r.jsx)("h1",{children:"No Food Items for this Restaurant"})})]})}}},function(e){e.O(0,[901,971,69,744],function(){return e(e.s=9847)}),_N_E=e.O()}]);